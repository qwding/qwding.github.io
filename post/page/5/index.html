


    




<!DOCTYPE HTML>

<html>
    <head>
        
            <title>Posts - QWDing blog</title>
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.15" />
        


        
        
            
                <meta name="description" content="懒癌晚期">
            
        

        
        <meta property="og:title" content="Posts" />
<meta property="og:description" content="懒癌晚期" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://blog.qwding.com/post/" />


<meta property="og:updated_time" content="2016-04-08T11:57:57&#43;08:00"/>









        
<meta itemprop="name" content="Posts">
<meta itemprop="description" content="懒癌晚期">


        

        

        
        
            
        

        
        
            <link rel="stylesheet" href="/css/google-font.css" />
            <link rel="stylesheet" href="/css/font-awesome.min.css" />
            <link rel="stylesheet" href="/css/main.css" />
            <link rel="stylesheet" href="/css/add-on.css" />
            <link rel="stylesheet" href="/css/monokai-sublime.css">
        

        

        
        
        
            
        
    </head>
    <body>

        
        <div id="wrapper">

    
<header id="header">
    
        <h1><a href="/">QWDing blog</i></a></h1>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/post/">
                        
                            <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                    </a>
                </li>
            
                <li>
                    <a href="/relax/">
                        
                            <i class="fa fa-gamepad">&nbsp;</i>Relax
                    </a>
                </li>
            
                <li>
                    <a href="/persional/">
                        
                            <i class="fa fa-child">&nbsp;</i>Persional
                    </a>
                </li>
            
                <li>
                    <a href="/categories/">
                        
                            <i class="fa fa-tags">&nbsp;</i>Categories
                    </a>
                </li>
            
                <li>
                    <a href="/about/">
                        
                            <i class="fa fa-info">&nbsp;</i>About
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="q" value="site:http://blog.qwding.com/">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="q" value="site:http://blog.qwding.com/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/post/">
                            <h3>
                                
                                    <i class="fa fa-newspaper-o">&nbsp;</i>
                                
                                Blog
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/relax/">
                            <h3>
                                
                                    <i class="fa fa-gamepad">&nbsp;</i>
                                
                                Relax
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/persional/">
                            <h3>
                                
                                    <i class="fa fa-child">&nbsp;</i>
                                
                                Persional
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/categories/">
                            <h3>
                                
                                    <i class="fa fa-tags">&nbsp;</i>
                                
                                Categories
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/about/">
                            <h3>
                                
                                    <i class="fa fa-info">&nbsp;</i>
                                
                                About
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section>
            <ul class="links">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                
                    
                

                
                    <li>
                        <a href="http://blog.qwding.com/post/golang_framwork_pk/"><p>golang 几大主流框架对比</p></a>
                    </li>
                
                    <li>
                        <a href="http://blog.qwding.com/post/golang_intersting_1/"><p>一场越看越有意思的骂战</p></a>
                    </li>
                
            </ul>
        </section>

    
        
</section>

    
    <div id="main">
        
          
          <h2>2016</h2>
          
             <article class="post">
    <header>
    <div class="title">
        
            <h2><a href="http://blog.qwding.com/post/golang_framwork_pk/">golang 几大主流框架对比</a></h2>
        
        
            <p>contrast of golang framworks</p>
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2016-11-25'>
            November 25, 2016</time>
        <span class="author">qwding</span>
        
            <p>1 minute read</p>
        
        
    </div>
</header>

    

    <p>先上表格 如下表格是2016-11-24 日调研结果，2~5列为github数据。 benchmark: beego VS revel VS martini 三大老框架 beego beego 很多人比较熟悉，国人写的，框架主要逻辑是经典MVC形式。 中间件：中间件可以写在beego内置的prepare方法里。 取参：取Query需要自己提取，url参数可以用内置方法。 返回：返回比较固定，想修改返回code比较麻烦。 缺点： 书写unit testing很恶心。 他的侵入式代码风格，还有源代码的多层嵌套，很多人都不太喜欢。 revel revel 也是MVC框架，他的的形式是你在一个配置文件配置路由，当用revel工具执行revel run时候，将在项目目录下生产两个文件/tmp/main.go 和 /routs/routs.go .作用分别为注册路由和绑定路由内参数。 中间件：中间件可以定义在/init.go 里面。 取参：内置提供方法，并且有自己内置的validation方法，方便。 返回：提供多种返回方法。 缺点： 也是侵入式代码。 其他的未实际使用，不予评论 martini 书写简单，写起来和之后要讲的echo，gin很像，但是他的性能较echo和gin差了很多。 从功能上说，并且martini并不像beego和revel那样框架全面，需要自己把架子搭起来。 所以直接就不考虑了。 总结 性能上beego和revel两者不分伯仲，两者的侵入式代码也是为了节省更多的时间，带来了不少便利。对比起来更倾向于用revel做简单的web框架，他的取参和返回值带来的便利性更高一点，并且也会生成路由的testing方法，综合来讲下一次如果写简单的管理界面可能考虑使用revel。 fasthttp vs httpRouter 两者都作为http的框架，可以替代原生的http，他们的优越都是因为速度快，0占用内存著称。可以考虑将他们作为其他框架的http引擎，会提升很大速度。 gorilla mux gorilla 最大好处是他出发点为组件化，各个模块单独成一体，你需要哪个模块，拿过来用就行，不需要可以换成其他写法。 mux是帮你对router更容易管理，其速度来说并不是非常突出。但是docker swarm用的是gorilla mux，足见其有一定可用性。 对于gorilla其他模块，如果缺少哪个模块组件，完全去任你挑选，安全稳定可靠，开发好帮手。 echo VS gin 最想说的两个 无论哪个benchmark，这两个框架的benchmark都已绝对优势排在前列，性能绝对认可。 代码书写上，两个框架写法也很相似，非常简洁，几行代码可勾勒一个http server,如下为gin一个ping serve，是不是超级简单。 package main import &quot;github.com/gin-gonic/gin&quot; func main() { r := gin.Default()</p>

    <footer>
        <ul class="actions">
            <li><a href="http://blog.qwding.com/post/golang_framwork_pk/" class="button big">Continue Reading</a></li>
        </ul>
        <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    

                    
                        <i class="fa fa-tags">&nbsp;</i>
                    

                    
                        Categories
                    
                
            </li>
        
    

    
    
        <li><a href='/categories/golang'>golang</a></li>
    
        <li><a href='/categories/beego'>beego</a></li>
    
        <li><a href='/categories/revel'>revel</a></li>
    
        <li><a href='/categories/echo'>echo</a></li>
    
        <li><a href='/categories/bin'>bin</a></li>
    
</ul>

    </footer>
</article>

            
             <article class="post">
    <header>
    <div class="title">
        
            <h2><a href="http://blog.qwding.com/post/golang_intersting_1/">一场越看越有意思的骂战</a></h2>
        
        
            <p>A interesting post</p>
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2016-11-22'>
            November 22, 2016</time>
        <span class="author">qwding</span>
        
            <p>1 minute read</p>
        
        
    </div>
</header>

    

    <p>有趣的帖子 查些资料，不小心挖了个坟，观战互喷 <a href="https://www.v2ex.com/t/89374">https://www.v2ex.com/t/89374</a> 当然，看口水战的时候往往还是带了不少信息~ 以此膜拜耿直程序员的耿直精神</p>

    <footer>
        <ul class="actions">
            <li><a href="http://blog.qwding.com/post/golang_intersting_1/" class="button big">Continue Reading</a></li>
        </ul>
        <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    

                    
                        <i class="fa fa-tags">&nbsp;</i>
                    

                    
                        Categories
                    
                
            </li>
        
    

    
    
        <li><a href='/categories/golang'>golang</a></li>
    
        <li><a href='/categories/beego'>beego</a></li>
    
        <li><a href='/categories/revel'>revel</a></li>
    
</ul>

    </footer>
</article>

            
             <article class="post">
    <header>
    <div class="title">
        
            <h2><a href="http://blog.qwding.com/post/mongo_backup/">mongo 备份</a></h2>
        
        
            <p>mongo backup</p>
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2016-10-20'>
            October 20, 2016</time>
        <span class="author">qwding</span>
        
            <p>1 minute read</p>
        
        
    </div>
</header>

    

    <p>mongo 备份 秉承方便简单，易搭建原则，还是用docker来实现,镜像地址（<a href="https://hub.docker.com/r/carlding/mongobackup/）">https://hub.docker.com/r/carlding/mongobackup/）</a> docker hub找到一个镜像，istepanov/mongodump可以实现本地monogo的备份，查阅其内部脚本，并没有开放传入远程数据库的接口，于是在此基础上改进 Dockerfile FROM istepanov/mongodump ​MAINTAINER qwding ADD backup.sh backup.sh ADD start.sh start.sh backup.sh #!/bin/bash set -e echo &quot;Job started: $(date)&quot; DATE=$(date +%Y%m%d_%H%M%S) FILE=&quot;/backup/backup-$DATE.tar.gz&quot; echo &quot;mongodump -h $MONGO_PORT_27017_TCP_ADDR -p $MONGO_PORT_27017_TCP_PORT -u $MONGO_USER -p $MONGO_PASSWORD -d $MONGO_DB&quot; mongodump -h $MONGO_PORT_27017_TCP_ADDR -u $MONGO_USER -p $MONGO_PASSWORD -d $MONGO_DB tar -zcvf $FILE dump/ rm -rf dump/ echo &quot;Job finished: $(date)&quot; start.sh #!/bin/bash set -e CRON_SCHEDULE=${CRON_SCHEDULE:-0 1 * * *} if [[ &quot;$1&quot; == &lsquo;no-cron&rsquo; ]]; then exec /backup.sh else LOGFIFO=&lsquo;/var/log/cron.fifo&rsquo; if [[ !</p>

    <footer>
        <ul class="actions">
            <li><a href="http://blog.qwding.com/post/mongo_backup/" class="button big">Continue Reading</a></li>
        </ul>
        <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    

                    
                        <i class="fa fa-tags">&nbsp;</i>
                    

                    
                        Categories
                    
                
            </li>
        
    

    
    
        <li><a href='/categories/mongo'>mongo</a></li>
    
        <li><a href='/categories/docker'>docker</a></li>
    
        <li><a href='/categories/dockerfile'>dockerfile</a></li>
    
</ul>

    </footer>
</article>

            
             <article class="post">
    <header>
    <div class="title">
        
            <h2><a href="http://blog.qwding.com/post/beego_runmode/">beego 如何不同环境用不同的runmode</a></h2>
        
        
            <p>Use different runmode of beego.</p>
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2016-10-19'>
            October 19, 2016</time>
        <span class="author">qwding</span>
        
            <p>1 minute read</p>
        
        
    </div>
</header>

    

    <p>beego runmode修改 除了配置文件设置runmode，想切换环境时候需要手动改，太麻烦，而且容易忘 想通过如下两种方法尝试，均无效： flag，但是beego本身并没有flag，简直行不通 官方文档里个的方法是 beego.Runmode = &ldquo;dev&rdquo;, 但其实这个方法很鸡肋，很蛋疼，因为读配置文件早在程序运行前执行了，而如果再程序里修改runmode，你在init里用的参数必然还是默认写的，用着基本蛋疼。 我在我本地beego 1.7的环境里又尝试了一下，发现已经没有这个方法了，可能作者也觉得确实蛋疼给删了吧。 环境变量改变 尝试将配置文件的runmode指定为环境变量，然后指定具体模式。发现居然成功了。不管怎么样，确实这个办法还是一个不错的解决方案了 加上docker更好用 因为本来用docker，这样直接在Dockerfile里设置ENV，部署线上的时候，直接用构建好的镜像启动就ok了，什么都不用改了。 懒人使人进步</p>

    <footer>
        <ul class="actions">
            <li><a href="http://blog.qwding.com/post/beego_runmode/" class="button big">Continue Reading</a></li>
        </ul>
        <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    

                    
                        <i class="fa fa-tags">&nbsp;</i>
                    

                    
                        Categories
                    
                
            </li>
        
    

    
    
        <li><a href='/categories/beego'>beego</a></li>
    
        <li><a href='/categories/golang'>golang</a></li>
    
        <li><a href='/categories/docker'>docker</a></li>
    
</ul>

    </footer>
</article>

            
             <article class="post">
    <header>
    <div class="title">
        
            <h2><a href="http://blog.qwding.com/post/slice_args/">How golang slice Semi - pointer.</a></h2>
        
        
            <p>golang slice怎么个半指针传递</p>
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2016-10-09'>
            October 9, 2016</time>
        <span class="author"></span>
        
            <p>2 minute read</p>
        
        
    </div>
</header>

    

    <p>起因 刷leetcode的77题时候，使用了递归方法，并且使用数组时候如下 result := make([][]int, 0, length+1) recursive([]int{}, 1, n, k, result) 第一次使用了cap声明slice，这样的好处是append时候在length后添加数据，并且保证长度够，append时候不会重新申请地址 但是跑的时候发现，recursive()后，在返回到此段代码，居然什么都没有！result值没变。 什么？ slice不是传说的指针传递么？ 先看下官方数组结构样子 当然，一直知道数组是半指针，就是将数组的地址的值传进去。在函数里是改变不了指针的值，但是可以操作指针指向的数据，详细的google有很多 我想象的是这样：函数收到的是数组的头地址(就是图最上面的指针）,length和cap等数据，这样可以完全接管数组的操作了 但是上述起因里出现的问题却不是这样，到底是什么原因呢？于是写了测试代码 func main() { result := make([]int, 0, 10) addr := &amp;result fmt.Println(&quot;result:&quot;, result, &quot;addr:&quot;, unsafe.Pointer(addr)) for i := 0; i &lt; 10; i++ { functions(result) result = append(result, i) //appendData(result,i) } fmt.Println(&quot;result:&quot;, result, &quot;addr:&quot;, unsafe.Pointer(addr)) } func functions(arr []int) { addr := &amp;arr if len(arr) &gt; 0 { fmt.Println(&quot;arr:&quot;, arr,</p>

    <footer>
        <ul class="actions">
            <li><a href="http://blog.qwding.com/post/slice_args/" class="button big">Continue Reading</a></li>
        </ul>
        <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    

                    
                        <i class="fa fa-tags">&nbsp;</i>
                    

                    
                        Categories
                    
                
            </li>
        
    

    
    
        <li><a href='/categories/slice'>slice</a></li>
    
        <li><a href='/categories/golang'>golang</a></li>
    
</ul>

    </footer>
</article>

            
             <article class="post">
    <header>
    <div class="title">
        
            <h2><a href="http://blog.qwding.com/post/get_host_user_in_container/">Docker容器里获取宿主机用户</a></h2>
        
        
            <p>Get host user in docker container </p>
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2016-08-29'>
            August 29, 2016</time>
        <span class="author">qwding</span>
        
            <p>1 minute read</p>
        
        
    </div>
</header>

    

    <p>尝试方法 映射宿主机文件到容器，试过几个文件，但是都效果并不好 启动容器前执行命令将用户写入文件，再启动容器 echo <code>echo $USER</code> &gt; tmp.file &amp;&amp; docker run -it alpine /bin/sh 但是遇到问题，就是我在容器的里的程序删除文件会遇到文件忙，没有深究原因 突然想到了我们启动容器的时候经常用 -v pwd:/folder。这样应该是执行了shell命令，那么能不能在冒号右侧执行呢。于是测试了一下发现可行。 将命令改为 docker run -it -e HOSTUSER=<code>echo $USER</code> apline /bin/sh //测试 $/ echo $HOSTUSER 结果正确 举一反三 既然可以这么获得用户名，那么其实也可以获得其他宿主机信息了，系统信息，能用shell获得的命令，都可以在启动容器时候传入环境变量</p>

    <footer>
        <ul class="actions">
            <li><a href="http://blog.qwding.com/post/get_host_user_in_container/" class="button big">Continue Reading</a></li>
        </ul>
        <ul class="stats">
    
        

        
        
    

    
    
</ul>

    </footer>
</article>

            
             <article class="post">
    <header>
    <div class="title">
        
            <h2><a href="http://blog.qwding.com/post/evernote_vs_youdao/">Evernote vs youdao</a></h2>
        
        
            <p>印象笔记和有道云笔记对比</p>
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2016-08-28'>
            August 28, 2016</time>
        <span class="author">qwding</span>
        
            <p>1 minute read</p>
        
        
    </div>
</header>

    

    <p>Evernote 之前一直用evernote，也没发现什么优点，本人流量一直没有超过60M/月限制，所以基本来说只用云笔记部分 编辑功能，不得不吐槽，我除了会在文本前面加点或者用tab分级外，其他什么编辑功能都不会，甚至有时候被他的带格式粘贴搞迷糊好半天 编辑工具栏，默认的居然是黑色，字体已经是黑色了，你这个黑色有毛用啊。调个颜色半天都有次还调不出来。 前几天有出现了限制2台硬件绑定。纳尼？？？弃用弃用，没商量 有道云笔记 因为国内的好像也就是有道了，其他的有些偏向团队，有些偏向会议之类的 发现有道的分级比Evernote爽一万倍，虽然功能简单，但是从之前那么蛋疼转过来爽了真的不是一点半点 发现有道V2.1.0版本居然可以直接将pdf等直接传到目录下直接观看，保存文档，整理笔记更近一步啊！ 有道居然可以用markdown，一些用markdown写的文档直接保存就ok了 有道有个缺点，就是一次我只圈中了一小部分文档复制，粘贴的时候居然带了整行的格式，日了狗了，恰恰粘贴的是密码，而且是那种特殊密码，以为是密码问题了，搞了好久 无意间发现点击链接直接在有道内部上网，内部内置了浏览器？吐槽一下，有毛用啊，我肯定是去浏览器查看链接啊 VS 查看两者之后是不是感觉有道云笔记完爆了Evernote，但是，还别急 用了一阵后，发现 有道居然超级吃内存，我8G的mac，刚开始用的时候，转移了部分笔记，已经吃到了800M，今天有略加了几个pdf，已经超过1.1G了，笔记容量加起来都不过几十M啊，简直可怕！！！相比之下，evernote一般都保持在200M左右，还是比较安静的，从来不会因为内存着急。 据他人说，有道想修改附件的话，必须下载下来，编辑后再传上去才行，但是evernote直接可以在线编辑 有道虽然有markdown，但是不能搜索，原因当然是显示的时候已经转成html，而html并不支持搜索。可是你也可以在md原文搜索啊！但是并没有，也就是说我写了md，就丧失了搜索功能。而我认为在云笔记这么庞大的东西面前，搜索才是最重要的，类似于mac的alfred，快速定位才行。相比evernote搜索用着还是可以接受的，当前目录和全局搜索两选项，而有道只能在当前目录下，如果想搜全局还有用鼠标在点下全局文件夹，恰恰我用的最多的是全局搜索。 总结 总的来说，两个都不想用 Evernote编辑功能不爽，还有设备限制(本人恰巧需要三台) 有道云笔记太吃内存，如果不吃这么多内存基本就用了，但是吃这么多内存搞得我8G都不够用了 基本想找一款更好的云笔记软件，也希望获得推荐 使用体验持续更新&hellip;</p>

    <footer>
        <ul class="actions">
            <li><a href="http://blog.qwding.com/post/evernote_vs_youdao/" class="button big">Continue Reading</a></li>
        </ul>
        <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    

                    
                        <i class="fa fa-tags">&nbsp;</i>
                    

                    
                        Categories
                    
                
            </li>
        
    

    
    
        <li><a href='/categories/evernote'>evernote</a></li>
    
        <li><a href='/categories/youdao'>youdao</a></li>
    
</ul>

    </footer>
</article>

            
             <article class="post">
    <header>
    <div class="title">
        
            <h2><a href="http://blog.qwding.com/post/gotest_map_array_slice/">go map,slice,array 遍历性能测试 </a></h2>
        
        
            <p>golang testing about iterating map,slice,array.</p>
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2016-06-27'>
            June 27, 2016</time>
        <span class="author">qwding</span>
        
            <p>2 minute read</p>
        
        
    </div>
</header>

    

    <p>#就是随便试试 听说goalng的map和slice的遍历性能差的不是一点半点，于是没事写个benchmark来玩玩 代码 package testings import( &quot;testing&quot; &quot;strconv&quot; ) var length = 1000 var maps map[string]string var slices []string var arrays [1000]string func init(){ maps = make(map[string]string,length) slices = make([]string,length) for i:=0;i&lt;length;i++{ maps[strconv.Itoa(i)] = &quot;abc&quot; slices[i] = &quot;abc&quot; arrays[i] = &quot;abc&quot; } } func BenchmarkIterateMap(b *testing.B){ for i:=0;i&lt;b.N;i++{ for <em>,</em> = range maps{ } } } func BenchmarkIterateSlices(b *testing.B){ for i:=0;i&lt;b.N;i++{ for <em>,</em> = range slices{ } } } func BenchmarkIterateArrays(b *testing.B){ for i:=0;i&lt;b.N;i++{ for <em>,</em> = range arrays{ } } } func BenchmarkIterateMapF(b *testing.B){ for i:=0;i&lt;b.N;i++{ for _,k := range maps{ _ = k } } } func BenchmarkIterateSlicesF(b *testing.B){ for i:=0;i&lt;b.N;i++{ for _,k := range slices{ _ = k } } } func BenchmarkIterateArraysF(b *testing.B){ for i:=0;i&lt;b.N;i++{ for _,k := range arrays{ _ = k } } } func BenchmarkIterateSlicesFor(b *testing.B){ for i:=0;i&lt;b.N;i++{ for j:=0;j&lt;length;j++{ _ = slices[j] } } } func BenchmarkIterateArraysFor(b *testing.B){ for i:=0;i&lt;b.N;i++{ for j:=0;j&lt;length;j++{ _= arrays[j] } } } #测试结果 ➜ testings git:(master) ✗ go test -bench=.</p>

    <footer>
        <ul class="actions">
            <li><a href="http://blog.qwding.com/post/gotest_map_array_slice/" class="button big">Continue Reading</a></li>
        </ul>
        <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    

                    
                        <i class="fa fa-tags">&nbsp;</i>
                    

                    
                        Categories
                    
                
            </li>
        
    

    
    
        <li><a href='/categories/golang'>golang</a></li>
    
        <li><a href='/categories/map'>map</a></li>
    
        <li><a href='/categories/slice'>slice</a></li>
    
        <li><a href='/categories/array'>array</a></li>
    
        <li><a href='/categories/testing'>testing</a></li>
    
        <li><a href='/categories/benchmark'>benchmark</a></li>
    
</ul>

    </footer>
</article>

            
             <article class="post">
    <header>
    <div class="title">
        
            <h2><a href="http://blog.qwding.com/post/shell_exec_db/">shell execute mongo/mysql which start by docker.</a></h2>
        
        
            <p>在实例方法内修改实例地址</p>
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2016-06-07'>
            June 7, 2016</time>
        <span class="author"></span>
        
            <p>1 minute read</p>
        
        
    </div>
</header>

    

    <p>#问题初衷 打算一键部署带权限验证的mongo。但是docker hub官方镜像创建mongo步骤为： docker run &ndash;name mongodb -d -p 27017:27017 mongo:3.3 &ndash;auth docker exec -it mongodb mongo admin db.createUser({ user: &lsquo;root&rsquo;, pwd: &lsquo;root&rsquo;, roles: [ { role: &quot;root&quot;, db: &quot;admin&quot; } ] }); 打算将其做成脚本 #用shell实现 经过查阅，发现shell的 &lt;&lt;EOF 可以实现，查阅资料 <a href="http://my.oschina.net/u/1032146/blog/146941">http://my.oschina.net/u/1032146/blog/146941</a> 应该可以实现,于是写了脚本 #!/bin/bash mongo admin &lt;&lt; EOF db.createUser({ user: &lsquo;root&rsquo;, pwd: &lsquo;root&rsquo;, roles: [ { role: &quot;root&quot;, db: &quot;admin&quot; } ] }); exit; EOF 在mongo 启动的容器内执行脚本，成功！ #直接写脚本启动容器(error) !/bin/bash docker run &ndash;name mongodb</p>

    <footer>
        <ul class="actions">
            <li><a href="http://blog.qwding.com/post/shell_exec_db/" class="button big">Continue Reading</a></li>
        </ul>
        <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    

                    
                        <i class="fa fa-tags">&nbsp;</i>
                    

                    
                        Categories
                    
                
            </li>
        
    

    
    
        <li><a href='/categories/shell'>shell</a></li>
    
        <li><a href='/categories/docker'>docker</a></li>
    
        <li><a href='/categories/mysql'>mysql</a></li>
    
        <li><a href='/categories/mongo'>mongo</a></li>
    
</ul>

    </footer>
</article>

            
             <article class="post">
    <header>
    <div class="title">
        
            <h2><a href="http://blog.qwding.com/post/golang_struct_func_changeaddr/">golang: change instance address in his method</a></h2>
        
        
            <p>在实例方法内修改实例地址</p>
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2016-06-01'>
            June 1, 2016</time>
        <span class="author"></span>
        
            <p>1 minute read</p>
        
        
    </div>
</header>

    

    <p>前提回顾 对于结构体中的指针应用，大部分可能知道的是如下两代码的区别 func (a *AA) funcA() func (a AA) funcB() 区别在于，我们在funcA内修改a的值，是可以成功的，但是在funcB修改a的值是失败的。 因为funcA中的a是指针传递，funcB中的a是值传递。这个大家都知道。 今天话题 先上代码 package main import ( &quot;fmt&quot; ) type AA struct { xyz string opq string } func (this *AA) Change() { b := &amp;AA{xyz: &quot;xyz1&quot;, opq: &quot;opq1&quot;} this = b fmt.Println(&quot;in this:&quot;, this, &quot;addr:&quot;, &amp;this) } func main() { a := &amp;AA{xyz: &quot;xyz0&quot;, opq: &quot;opq0&quot;} fmt.Println(&quot;before a:&quot;, a, &quot;addr:&quot;, &amp;a) a.Change() fmt.Println(&quot;after a:&quot;, a, &quot;addr:&quot;, &amp;a) }</p>

    <footer>
        <ul class="actions">
            <li><a href="http://blog.qwding.com/post/golang_struct_func_changeaddr/" class="button big">Continue Reading</a></li>
        </ul>
        <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    

                    
                        <i class="fa fa-tags">&nbsp;</i>
                    

                    
                        Categories
                    
                
            </li>
        
    

    
    
        <li><a href='/categories/golang'>golang</a></li>
    
        <li><a href='/categories/pointer'>pointer</a></li>
    
</ul>

    </footer>
</article>

            
             <article class="post">
    <header>
    <div class="title">
        
            <h2><a href="http://blog.qwding.com/post/portus/">Install portus by docker and configration read.</a></h2>
        
        
            <p>portus的docker容器搭建</p>
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2016-04-20'>
            April 20, 2016</time>
        <span class="author"></span>
        
            <p>2 minute read</p>
        
        
    </div>
</header>

    

    <p>一般形式 在官方文档，或者百度谷歌，搜到的portus一般都是compose形式搭建，这样好处是操作无脑 但是一般情况下我们肯定是自己要更灵活一些的，肯定用docker容器形式更舒服一点。可是去dockerhub一搜，各种版本的镜像，查看dockerfile很多人都自己加了一些内容，对于不会ruby的人来说，并不知道那些操作都说干啥的。 自己研究研究 github master分支上有dockerfile，如下 FROM library/rails:4.2.2 MAINTAINER Flavio Castelli &lt;fcastelli@suse.com&gt; ENV COMPOSE=1 EXPOSE 3000 WORKDIR /portus COPY Gemfile* ./ RUN bundle install &ndash;retry=3 # Install phantomjs, this is required for testing and development purposes # There are no official deb packages for it, hence we built it inside of the # open build service. RUN echo &quot;deb <a href="http://download.opensuse.org/repositories/home:/flavio_castelli:/phantomjs/Debian_8.0/">http://download.opensuse.org/repositories/home:/flavio_castelli:/phantomjs/Debian_8.0/</a> ./&quot; &gt;&gt; /etc/apt/sources.list RUN wget <a href="http://download.opensuse.org/repositories/home:/flavio_castelli:/phantomjs/Debian_8.0/Release.key">http://download.opensuse.org/repositories/home:/flavio_castelli:/phantomjs/Debian_8.0/Release.key</a> &amp;&amp; \ apt-key add Release.key &amp;&amp; \ rm Release.key RUN apt-get update &amp;&amp; \ apt-get install -y &ndash;no-install-recommends phantomjs &amp;&amp; \ rm -rf /var/lib/apt/lists/* ADD .</p>

    <footer>
        <ul class="actions">
            <li><a href="http://blog.qwding.com/post/portus/" class="button big">Continue Reading</a></li>
        </ul>
        <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    

                    
                        <i class="fa fa-tags">&nbsp;</i>
                    

                    
                        Categories
                    
                
            </li>
        
    

    
    
        <li><a href='/categories/portus'>portus</a></li>
    
        <li><a href='/categories/registry'>registry</a></li>
    
</ul>

    </footer>
</article>

            
             <article class="post">
    <header>
    <div class="title">
        
            <h2><a href="http://blog.qwding.com/post/hugo_vs_hexo/">hugo vs hexo</a></h2>
        
        
            <p>contrast hugo with hexo</p>
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2016-04-08'>
            April 8, 2016</time>
        <span class="author"></span>
        
            <p>1 minute read</p>
        
        
    </div>
</header>

    

    <p>hugo 和 hexo 对比 主要是查阅了一下很多人经验，并汇总了一下对比结果 hexo hugo 速度 快 特别快 主题 几大主题基础上延伸,总量更多 很多,良好主题生态圈 安装及更新 更新容易有坑，因为依赖包 一个binary,安装更新快 评论系统 支持disqus等 支持disqus等 应用方面 博客适应性更强 非博客适应性更强 文档 有中文文档 文档超详细，中文不全 功能 分类,tag,多语言,i18n 分类,tag,series,wight,多语言 因为本身更喜欢golang，所以选择了hugo 分享一下查阅的资料 十种静态页面生成工具 hexo 文档 hexo 中文文档 hexo 一篇比较好的使用文章 hugo 文档 hugo 中文文档 hugo 主题 gitlab pages gitlab 8.3以后也出了github pages的功能，但只限gitlab-ee版本，需要付费 gitlab-ee docker安装 gitlab pages使用</p>

    <footer>
        <ul class="actions">
            <li><a href="http://blog.qwding.com/post/hugo_vs_hexo/" class="button big">Continue Reading</a></li>
        </ul>
        <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    

                    
                        <i class="fa fa-tags">&nbsp;</i>
                    

                    
                        Categories
                    
                
            </li>
        
    

    
    
        <li><a href='/categories/hugo'>hugo</a></li>
    
        <li><a href='/categories/hexo'>hexo</a></li>
    
</ul>

    </footer>
</article>

            
             <article class="post">
    <header>
    <div class="title">
        
            <h2><a href="http://blog.qwding.com/post/main/">一个开始</a></h2>
        
        
            <p>One start.</p>
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2016-04-08'>
            April 8, 2016</time>
        <span class="author"></span>
        
            <p>1 minute read</p>
        
        
    </div>
</header>

    

    <p>写点博客总是好的 长点心，写点博客，少打游戏。</p>

    <footer>
        <ul class="actions">
            <li><a href="http://blog.qwding.com/post/main/" class="button big">Continue Reading</a></li>
        </ul>
        <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    

                    
                        <i class="fa fa-tags">&nbsp;</i>
                    

                    
                        Category
                    
                
            </li>
        
    

    
    
        <li><a href='/categories/live'>live</a></li>
    
</ul>

    </footer>
</article>

            
          

        
<ul class="actions pagination">
    
        <li><a href="/post/page/4/"
                class="button big previous">Previous Page</a></li>
    

    
        <li><a href="#" class="disabled button big next">Next Page</a></li>
    
</ul>

    </div>
    
<section id="sidebar">

    
        <section id="intro">
            
            
                
                    <a href="/" class="logo"><img src="/img/dog.jpeg" alt="Qwding blog" /></a>
                
            
            
                <header>
                    <h2>QWDing blog</h2>
                    <p>懒癌晚期</p>
                </header>
            
            <ul class="icons">
                
                    <li><a href="http://blog.qwding.com/post/index.xml" type="application/rss+xml"
                        target="_blank" title="RSS" class="fa fa-rss"></a></li>
                
                
                    
<li><a href="//github.com/qwding" target="_blank" title="GitHub" class="fa fa-github"></a></li>



















































<li><a href="mailto:edcapding@163.com" title="Email" class="fa fa-envelope"></a></li>


                
            </ul>
        </section>

    
        <section id="recent-posts">
            <ul class="posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                
                    
                

                
                    
                

                
                    <li>
                        <article>
                            <header>
                                <h3><a href="http://blog.qwding.com/post/golang_framwork_pk/">golang 几大主流框架对比</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '2016-11-25'>
                                    November 25, 2016</time>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <h3><a href="http://blog.qwding.com/post/golang_intersting_1/">一场越看越有意思的骂战</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '2016-11-22'>
                                    November 22, 2016</time>
                            </header>
                        </article>
                    </li>
                

                
                    <li>
                        <ul class="actions">
                            <li><a href=
                            
                                /
                            
                            class="button">View more posts</a></li>
                        </ul>
                    </li>
                
            </ul>
        </section>

    
    
    
    
        <section id="categories">
            <ul class="posts">
                <header>
                    <h3><a href="/categories/">Categories</a></h3>
                </header>

                
                    
                

                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/golang/">golang</a>
                                <span style="float:right;">6</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/beego/">beego</a>
                                <span style="float:right;">3</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/docker/">docker</a>
                                <span style="float:right;">3</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/revel/">revel</a>
                                <span style="float:right;">2</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/slice/">slice</a>
                                <span style="float:right;">2</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/live/">live</a>
                                <span style="float:right;">2</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/mongo/">mongo</a>
                                <span style="float:right;">2</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/bin/">bin</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/evernote/">evernote</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/youdao/">youdao</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/map/">map</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/testing/">testing</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/pointer/">pointer</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/echo/">echo</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/registry/">registry</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/game/">game</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/hugo/">hugo</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/dockerfile/">dockerfile</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/array/">array</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/benchmark/">benchmark</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/shell/">shell</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/mysql/">mysql</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/hexo/">hexo</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/portus/">portus</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
            </ul>
        </section>
    

    
        
        <section class="blurb">
            <h2>About</h2>
            <p>没错！懒癌晚期！就是爱打游戏！</p>

            <ul class="actions">
                <li><a href="/about/" class="button">Learn More</a></li>
            </ul>
        </section>
        

    
        <section id="footer">
            <ul class="icons">
                
                    <li><a href="http://blog.qwding.com/post/index.xml" type="application/rss+xml"
                        target="_blank" title="RSS" class="fa fa-rss"></a></li>
                
                
                    
<li><a href="//github.com/qwding" target="_blank" title="GitHub" class="fa fa-github"></a></li>



















































<li><a href="mailto:edcapding@163.com" title="Email" class="fa fa-envelope"></a></li>


                
            </ul>

            <p class="copyright">&copy; QWDing blog. Design: <a href="http://html5up.net" target="_blank">HTML5 UP</a>. Ported by <a href="//github.com/jpescador" target="_blank">Julio Pescador</a>. Powered by <a href="//gohugo.io" target="_blank">Hugo</a></p>
        </section>

</section>

            </div>
        <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
        

        
        
            
        

        
        
            <script src="/js/jquery.min.js"></script>
            <script src="/js/skel.min.js"></script>
            <script src="/js/util.js"></script>
            <script src="/js/main.js"></script>
            <script src="/js/backToTop.js"></script>
            <script src="/js/highlight.pack.js"></script>
            <script src="/js/google_analytics.js"></script>
        

        

            
            <script>hljs.initHighlightingOnLoad();</script>
            
    </body>
</html>

